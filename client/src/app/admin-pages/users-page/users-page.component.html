<!--Table-->
<div class="main">
  <div [class]="isShowTemplate? 'blur' : ''">
    <div class="mat-elevation-z8">
      <h1>Сотрудники</h1>
      <hr>
      <table mat-table [dataSource]="dataSource">
        <!-- Position Column -->
        <ng-container matColumnDef="#">
          <th mat-header-cell *matHeaderCellDef> #</th>
          <td mat-cell *matCellDef="let user">{{ user.position }}</td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Сотрудник</th>
          <td mat-cell *matCellDef="let user"> {{ user.lastName + ' ' + user.firstName }}</td>
        </ng-container>

        <!-- Post Column -->
        <ng-container matColumnDef="post">
          <th mat-header-cell *matHeaderCellDef> Должность</th>
          <td mat-cell *matCellDef="let user"> {{ user.post }}</td>
        </ng-container>

        <!-- Phone Column -->
        <ng-container matColumnDef="phone">
          <th mat-header-cell *matHeaderCellDef> Телефон</th>
          <td mat-cell *matCellDef="let user"> <p *ngIf="user.phone.length > 2"> 7{{ user.phone }}</p></td>
        </ng-container>

        <!-- Hotel Column -->
        <ng-container matColumnDef="hotel">
          <th mat-header-cell *matHeaderCellDef> Гостиницы/Дома</th>
          <td mat-cell *matCellDef="let user">
            {{ user.hotels.length > 1 ? user.hotels[0] + ' ( еще '+ (user.hotels.length - 1) + ')': user.hotels[0]}}</td>
        </ng-container>

        <!-- Login Column -->
        <ng-container matColumnDef="login">
          <th mat-header-cell *matHeaderCellDef> Логин</th>
          <td mat-cell *matCellDef="let user">
            {{user.login}}</td>
        </ng-container>

        <!-- Edit Column -->
        <ng-container matColumnDef="edit">
          <th mat-header-cell *matHeaderCellDef> Действие</th>
          <td mat-cell *matCellDef="let user">
            <img style="width: 35px"
                 src="../assets/icons/edit.png"
                 (click)="openCreateUserPage(user)"
                 alt="edit">
          </td>
        </ng-container>

        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Статус</th>
          <td mat-cell *matCellDef="let user">
            <mat-slide-toggle color="warn" [checked]="user.status" (click)="changeStatus(user)"></mat-slide-toggle>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <hr>
      <div class="table-bottom">
        <button
          class="btn" extended="" mat-fab
          (click)="openCreateUserPage()"
          [disabled]="isShowTemplate"
        >
          Добавить
        </button>
        <mat-paginator [pageSizeOptions]="[5,10, 20]"
                       showFirstLastButtons
                       aria-label="">
        </mat-paginator>
      </div>
    </div>
  </div>
  <!--Table-->
<!--  <div class="table-posts">-->
<!--    <app-posts-page></app-posts-page>-->
<!--  </div>-->

</div>

